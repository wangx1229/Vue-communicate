# Vue组件通讯总结

一 父子组件通讯
vue设计理念是单项数据流，所以，数据应当从父组件流入子组件，并且只能从父组件对数据进行修改。

1.prop和emit
这是父子组件通讯最常用的方法。使用prop从父组件向子组件传递数据，同时在子组件上注册相关事件绑定父组件中的方法。这样，在子组件内通过触发绑定的事件，可以调用父组件的方法改变传入prop中的数据

2.向prop传递函数
prop类型有很多种，包括String，Number，Boolean，Array，Object，Date，Function，Symbol。
我们可以向prop传递一个父组件中函数，在子组件中将这个属性作为一个方法调用，达到之前注册事件，触发事件一样的效果。而且一样可以传递参数。

3.provide和inject
当我们组件嵌套多层的时候，每一层都传递prop显然使用起来太过麻烦，这个时候，可以通过在父组件中注册provide属性，这样就可以在任意层子组件中通过inject来获取这个属性。
provide和inject同样遵循单项数据流。但是如果我们实在想在子组件中修改父组件的数据，可以将provide提供的值包装成对象，在子组件中修改对象的属性，从而修改provide提供的值，这个原理将在4中提到。

4.向provide传递数组或者对象等引用类型的值
在js中，对象和数组都是属于引用类型的，不管你把对象或者数组赋值给多少个变量，只要修改其中一个变量，其他的变量都会改变，因为他们指向同一个地址。
利用这个特性，当我们向prop中传递数组或者对象的时候，我们在子组件中对prop进行修改，你就会发现，父组件中的数据也神奇的进行了改变。

二 兄弟组件通讯
兄弟组件之间通讯，最简单的就是直接注册一个空的vue实例，然后分别在相关组件上使用$on和$emit监听和触发事件。

三 VUEX状态管理
当我们好多层嵌套组件，以及兄弟组件之间存在需要共同管理的数据时，我们就需要引入vuex进行状态管理了。
